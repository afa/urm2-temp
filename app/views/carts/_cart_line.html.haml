%tr{:id => "cart_str_#{cart_line.id.to_s}"}
 %td.text-left= cart_line.type_name
 %td.text-left= cart_line.product_name
 %td.text-left= cart_line.product_brend
 %td.text-left= cart_line.product_rohs
 %td= cart_line.current_price
 %td= cart_line.amount
 %td.text-left= cart_line.location_link
 %td.text-left= cart_line.prognosis
 %td
  %textarea{:cols => 20, :rows => 1, :id => "cart_item_#{cart_line.id}_comment", :name => "cart_item[#{cart_line.id}][comment]"}= cart_line.comment
 %td
  %input{:type => :text, :value => cart_line.user_price, :id => "cart_item_#{cart_line.id}_user_price", :name => "cart_item[#{cart_line.id}][user_price]"}
 - if cart_line.is_a?(CartWorld)
  %td &nbsp;
  %td
   %span.switch.disabled
    %span
     %span= t :pick
 - else
  - [:reserve, :pick].each do |act|
   %td
    %span
     - if cart_line.allowed_actions.include?(act.to_s)
      -# %label{:for => "cart_item_#{cart_line.id}_#{act.to_s}"}= t act
      = render :partial => "shared/check_button", :locals => {:name => "cart_item[#{cart_line.id}][#{act.to_s}]", :title => t(act), :opts => {:need_field => true, :value => cart_line.send(act)}}
 %td
  = render :partial => "shared/check_button", :locals => {:name => "cart_item[#{cart_line.id}][destroy]", :title => t(:delete), :opts => {:need_field => true, :value => false}}
  -# %span.switch{:class=>"check"}
   %a{:href=>"#", :name => "search[only_store]"}
    %span Только склад
  -# %span
   %label{:for => "cart_item_#{cart_line.id}_destroy"}= t :delete
   = check_box_tag "cart_item[#{cart_line.id}][destroy]", '1', false, :id => "cart_item_#{cart_line.id}_destroy"

-#
 %th= t :type
 %th= t :name
 %th= t :brend
 %th= t :rohs
 %th= t :price
 %th= t :amount
 %th= t :location
 %th= t :prognosis
 %th= t :comment
 %th= t :user_price
 %th= t :action


